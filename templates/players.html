{% extends "layout.html" %}
{% block title %}Players{% endblock %}
{% block content %}
<h2 class="display-5 fw-bold">Players</h2>
{% if session.admin %}

<h3>Add Player</h3>
<form action="/addPlayer" method="POST">
    <label>ISS</label>
        <input name="iss" type="number" min ="1" {% if players_list %} value="{{players_list[0][1]+1}}" {% endif %}>
    <label>Name</label>
        <input name="name" type="text" maxlength="100">
    <label>Role</label>
        <select name="role">
            <option value="G">G</option>
            <option value="LD">LD</option>
            <option value="RD">RD</option>
            <option value="LW">LW</option>
            <option value="C">C</option>
            <option value="RW">RW</option>
        </select>
    <button type="submit">Add player</button>
</form>

{% endif %}
<table>
    <tr>
        <th>ISS</th>
        <th>Name</th>
        <th>Role</th>
        <th>Delete</th>
    </tr>
{% for player in players_list %}
<tr>
    <td>{{ player[1] }}</td>
    <td>{{ player[2] }}</td>
    <td>{{ player[3] }}</td>
    <td>
        <form method="post" action="/deletePlayer">
            <input type="hidden" name="id" value="{{ player[0] }}">
            <button class="btn btn-danger" type="submit">Delete</button>
        </form> 
    </td>
</tr>
{% endfor %}
</table>
{% endblock %}